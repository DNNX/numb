describe Integer, "#smooth?" do
  SMOOTH = {
   # A000079
   2 =>  [1,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192,
          16384,32768,65536,131072,262144,524288,1048576,
          2097152,4194304,8388608,16777216,33554432,
          67108864,134217728,268435456,536870912,1073741824,
          2147483648,4294967296,8589934592],
   # A003586 
   3 =>  [1,2,3,4,6,8,9,12,16,18,24,27,32,36,48,54,64,72,
          81,96,108,128,144,162,192,216,243,256,288,324,384,
          432,486,512,576,648,729,768,864,972,1024,1152,
          1296,1458,1536,1728,1944,2048,2187,2304,2592,2916,
          3072,3456,3888],
   # A051037       
   5 =>  [1,2,3,4,5,6,8,9,10,12,15,16,18,20,24,25,27,30,32,
          36,40,45,48,50,54,60,64,72,75,80,81,90,96,100,108,
          120,125,128,135,144,150,160,162,180,192,200,216,
          225,240,243,250,256,270,288,300,320,324,360,375,
          384,400,405],
   # A002473
   7 =>  [1,2,3,4,5,6,7,8,9,10,12,14,15,16,18,20,21,24,25,
          27,28,30,32,35,36,40,42,45,48,49,50,54,56,60,63,
          64,70,72,75,80,81,84,90,96,98,100,105,108,112,120,
          125,126,128,135,140,144,147,150,160,162,168,175,
          180,189,192],
   # A051038
   11 => [1,2,3,4,5,6,7,8,9,10,11,12,14,15,16,18,20,21,22,
          24,25,27,28,30,32,33,35,36,40,42,44,45,48,49,50,
          54,55,56,60,63,64,66,70,72,75,77,80,81,84,88,90,
          96,98,99,100,105,108,110,112,120,121,125,126,128,
          132,135,140],
   # A080197
   13 => [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,18,20,21,
          22,24,25,26,27,28,30,32,33,35,36,39,40,42,44,45,
          48,49,50,52,54,55,56,60,63,64,65,66,70,72,75,77,
          78,80,81,84,88,90,91,96,98,99,100,104,105,108,110,
          112,117,120],
   # A080681       
   17 => [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,20,
          21,22,24,25,26,27,28,30,32,33,34,35,36,39,40,42,
          44,45,48,49,50,51,52,54,55,56,60,63,64,65,66,68,
          70,72,75,77,78,80,81,84,85,88,90,91,96,98,99,100,
          102,104,105],
   # A080682
   19 => [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,
          20,21,22,24,25,26,27,28,30,32,33,34,35,36,38,39,
          40,42,44,45,48,49,50,51,52,54,55,56,57,60,63,64,
          65,66,68,70,72,75,76,77,78,80,81,84,85,88,90,91,
          95,96,98,99,100],
   # A080683
   23 => [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,
          20,21,22,23,24,25,26,27,28,30,32,33,34,35,36,38,
          39,40,42,44,45,46,48,49,50,51,52,54,55,56,57,60,
          63,64,65,66,68,69,70,72,75,76,77,78,80,81,84,85,
          88,90,91,92,95]
  }

  SMOOTH.each do |base, members|
    20.times.map{ Random.new.rand(members.first..members.last) }.each do |n|
      if members.include?(n)
        it "should return true for #{base}-smooth number #{n}" do
          n.smooth?(base).should be_true
        end
      else
        it "should return false for non-#{base}-rough number #{n}" do
          n.smooth?(base).should be_false
        end
      end
    end
  end
end
