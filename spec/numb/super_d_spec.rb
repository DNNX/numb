# coding: utf-8
describe Integer, "#super_d?" do
  @seq = {
    # A032743
    2 => [19,31,69,81,105,106,107,119,127,131,169,181,190,
          219,231,247,269,281,310,318,319,331,332,333,334,
          335,336,337,338,339,348,369,381,419,431,454,469,
          481,511,519,531,558,569,581,601,619,631,669,679,
          681,690,715],
    # A014569       
    3 => [261,462,471,481,558,753,1036,1046,1471,1645,1752,
          1848,1923,1926,1968,2031,2231,2232,2363,2395,2471,
          2591,2610,3058,3087,3148,3163,3172,3181,3471,3494,
          3542,3851,3884,4143,4269,4314,4471,4527,4554,4620,
          4710,4732],
    # A032744      
    4 => [1168,4972,7423,7752,8431,10267,11317,11487,11549,
          11680,16588,16664,16837,18257,18597,19784,19933,
          22217,22504,22819,22829,24078,24331,24514,25296,
          25698,26685,26738,27812,27973,28988,32466,32467,
          32735],
    # A032745       
    5 => [4602,5517,7539,12955,14555,20137,20379,26629,
          32767,35689,35825,37706,46020,46715,51988,55170,
          66344,73338,73974,75390,76157,86025,91497,105852,
          114488,129550,132234,145550,146399,158651,160897,
          171673,174782],
    # A032746      
    6 => [27257,272570,302693,323576,364509,502785,513675,
          537771,676657,678146,731378,831122,836553,913797,
          920456,921269,1045361,1144983,1169054,1283069,
          1288697,1292673,1343642,1346117,1472078,1523993,
          1640026],
    # A032747      
    7 => [140997,490996,1184321,1259609,1409970,1783166,
          1886654,1977538,2457756,2714763,2750425,2980991,
          3043607,3283057,3689639,4191601,4258476,4642725,
          4909960,4973029,5242829,5349973,5444788,5523544,
          5682065],
    # A032748      
    8 => [185423,641519,1551728,1854230,6415190,12043464,
          12147605,15517280,16561735,18542300,26908132,
          29242698,33491333,34982204,35866945,37584428,
          44263715,45980752,54555936,56148739,60883944,
          64151900],
    # A032749      
    9 => [17546133,32613656,93568867,107225764,109255734,
          113315082,121251742,175461330,180917907,182557181,
          190215626,227366552,267791979,297981691,298002027,
          301321202,321541434,326136560,326687646,329178946,
          351038353]
  }

  @seq.each do |d, values|
    values.each do |n|
      it "returns true for super-#{d} number #{n}" do
        n.should be_super_d(d)
      end
    end

    values.to_seq.invert.sample(100).each do |n|
      it "returns false for non-super-#{d} number #{n}" do
        n.should_not be_super_d(d)
      end
    end
  end
end
  
